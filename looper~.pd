#N canvas 493 63 635 674 10;
#X obj 13 -24 inlet~;
#X obj 339 -154 inlet;
#X obj 13 435 outlet~;
#X text 17 -132 normalize;
#X text 18 -115 MIDI sync / clock;
#X text 17 -96 overdubbing / voices;
#X obj 235 438 outlet;
#X obj 339 -130 route float clear play record phrase;
#X obj 170 -24 r \$0-record;
#N canvas 975 625 450 300 clear 0;
#X obj 23 15 inlet;
#X obj 87 15 inlet;
#X obj 23 202 outlet;
#X obj 23 40 sel 1 0;
#X obj 23 67 timer;
#X obj 23 92 > 700;
#X obj 23 116 sel 0 1;
#X msg 42 158 0;
#X obj 87 202 s \$0-clear;
#X connect 0 0 3 0;
#X connect 1 0 8 0;
#X connect 3 0 4 0;
#X connect 3 1 4 1;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X connect 6 1 7 0;
#X connect 6 1 8 0;
#X connect 7 0 2 0;
#X restore 339 -105 pd clear;
#N canvas 1159 367 450 300 play-stop 0;
#X obj 20 17 inlet;
#X obj 20 191 s \$0-record;
#X obj 95 191 s \$0-play;
#X obj 50 108 == 0;
#X obj 20 130 sel 0 1;
#X obj 20 108 f 0;
#X msg 130 41 1;
#X msg 198 41 0;
#X obj 130 19 inlet play;
#X obj 198 19 inlet record;
#X obj 20 41 route bang float;
#X obj 163 190 s \$0-print;
#X msg 163 167 record;
#X msg 211 167 play;
#X msg 250 168 cleared;
#X obj 249 143 r \$0-clear;
#X connect 0 0 10 0;
#X connect 3 0 5 1;
#X connect 4 0 1 0;
#X connect 4 0 12 0;
#X connect 4 1 2 0;
#X connect 4 1 13 0;
#X connect 5 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 5 0;
#X connect 7 0 5 0;
#X connect 8 0 6 0;
#X connect 9 0 7 0;
#X connect 10 0 5 0;
#X connect 10 1 5 1;
#X connect 12 0 11 0;
#X connect 13 0 11 0;
#X connect 14 0 11 0;
#X connect 15 0 14 0;
#X restore 339 -57 pd play-stop;
#X obj 65 158 r \$0-play;
#X obj 130 316 r \$0-stop;
#X obj 245 -23 r \$0-play;
#X msg 245 72 stop;
#X obj 245 4 t b b;
#X obj 170 5 t b b;
#N canvas 1133 48 380 930 tables 1;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-phrase0 882000 float 2;
#X coords 0 1 881999 -1 200 140 1 0 0;
#X restore 115 -22 graph;
#X msg 21 0 const 0;
#X obj 21 -24 r \$0-clear;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-phrase1 882000 float 2;
#X coords 0 1 881999 -1 200 140 1 0 0;
#X restore 113 140 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-phrase2 882000 float 2;
#X coords 0 1 881999 -1 200 140 1 0 0;
#X restore 112 301 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-phrase3 882000 float 2;
#X coords 0 1 881999 -1 200 140 1 0 0;
#X restore 110 464 graph;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-phrase4 882000 float 2;
#X coords 0 1 881999 -1 200 140 1 0 0;
#X restore 109 627 graph;
#X obj 21 64 s;
#X obj 36 31 r \$0-phrase;
#X connect 1 0 7 0;
#X connect 2 0 1 0;
#X connect 8 0 7 1;
#X restore 340 -23 pd tables;
#N canvas 431 59 494 344 META 0;
#X text 12 5 KEYWORDS signal;
#X text 12 105 OUTLET_0 signal;
#X text 12 45 DESCRIPTION looper;
#X text 12 145 AUTHOR Tommy Neuwirth \, Max Neupert;
#X text 12 185 RELEASE_DATE 2012;
#X text 12 205 HELP_PATCH_AUTHORS Max Neupert;
#X text 12 125 LIBRARY Bauhauslib;
#X text 12 65 INLET_0 signal;
#X text 12 85 INLET_1 float \, clear \, play \, record;
#X text 12 25 LICENSE LGPL;
#X text 12 165 WEBSITE https://github.com/bauhauslib/blib;
#X restore 510 468 pd META;
#X obj 235 407 r \$0-print;
#N canvas 920 371 563 560 set-loop-size 0;
#X obj 28 22 inlet;
#X obj 90 23 inlet;
#X obj 61 225 loadbang;
#X obj 61 248 samplerate~;
#X obj 28 146 timer;
#X obj 61 271 / 1000;
#X obj 28 297 * 44.1;
#X obj 28 81 spigot 1;
#X obj 90 81 spigot 1;
#X msg 161 50 0;
#X msg 196 50 1;
#X obj 197 28 r \$0-clear;
#X obj 28 320 s \$0-samples;
#X obj 28 167 t f b f;
#X obj 67 193 s \$0-length;
#X text 175 235 set the length of the loop;
#X text 170 84 the length of the loop is defined by the first recording
after a memory clear!;
#X connect 0 0 7 0;
#X connect 1 0 8 0;
#X connect 2 0 3 0;
#X connect 3 0 5 0;
#X connect 4 0 13 0;
#X connect 5 0 6 1;
#X connect 6 0 12 0;
#X connect 7 0 4 0;
#X connect 8 0 4 1;
#X connect 9 0 7 1;
#X connect 9 0 8 1;
#X connect 10 0 8 1;
#X connect 10 0 7 1;
#X connect 11 0 10 0;
#X connect 13 0 6 0;
#X connect 13 1 9 0;
#X connect 13 2 14 0;
#X restore 192 44 pd set-loop-size;
#X obj 65 435 send~ feedback;
#X obj 58 -23 receive~ feedback;
#X obj 466 -35 s \$0-phrase;
#X obj 466 -80 makefilename \$0-phrase%d;
#X obj 59 130 tabwrite~ \$0-phrase0;
#X obj 65 405 tabread4~ \$0-phrase0;
#X obj 75 4 r \$0-phrase;
#X msg 75 29 set \$1;
#X obj 65 377 vline~;
#X obj 481 -57 s \$0-print phrase;
#X msg 123 340 1;
#X obj 65 340 pack f f;
#X obj 65 316 f;
#X obj 80 274 r \$0-samples;
#X obj 231 243 r \$0-length;
#X obj 186 295 s \$0-loop;
#X obj 76 181 r \$0-loop;
#X obj 186 268 delay 10;
#X obj 65 246 t b b b;
#X obj 307 407 r \$0-loop;
#N canvas 997 570 639 348 record-on-loop-start 0;
#X obj 126 27 inlet;
#X obj 36 26 r \$0-loop;
#X obj 36 180 outlet;
#X obj 36 99 spigot 0;
#X obj 36 129 t b b;
#X msg 116 96 0;
#X msg 126 60 1;
#X text 196 84 make sure that recording is always starting at the loops
begining;
#X connect 0 0 6 0;
#X connect 1 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 4 1 5 0;
#X connect 5 0 3 1;
#X connect 6 0 3 1;
#X restore 85 70 pd record-on-loop-start;
#X connect 0 0 2 0;
#X connect 0 0 25 0;
#X connect 1 0 7 0;
#X connect 7 0 9 0;
#X connect 7 1 9 1;
#X connect 7 2 10 1;
#X connect 7 3 10 2;
#X connect 7 4 24 0;
#X connect 8 0 16 0;
#X connect 9 0 10 0;
#X connect 11 0 39 0;
#X connect 12 0 31 0;
#X connect 13 0 15 0;
#X connect 14 0 25 0;
#X connect 15 0 14 0;
#X connect 15 1 20 1;
#X connect 16 0 41 0;
#X connect 16 1 20 0;
#X connect 19 0 6 0;
#X connect 22 0 25 0;
#X connect 24 0 23 0;
#X connect 24 0 30 0;
#X connect 26 0 2 0;
#X connect 26 0 21 0;
#X connect 27 0 28 0;
#X connect 28 0 25 0;
#X connect 29 0 26 0;
#X connect 31 0 29 0;
#X connect 32 0 29 0;
#X connect 33 0 32 0;
#X connect 34 0 33 1;
#X connect 35 0 32 1;
#X connect 35 0 38 1;
#X connect 37 0 39 0;
#X connect 38 0 36 0;
#X connect 39 0 33 0;
#X connect 39 1 31 0;
#X connect 39 2 38 0;
#X connect 40 0 6 0;
#X connect 41 0 25 0;
#X coords 0 674 1 673 250 175 0;
